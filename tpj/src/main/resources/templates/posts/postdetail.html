<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/defaultLayout}"
      layout:fragment="Content"
>
<head>
  <title>게시글 상세</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
  <h1 class="mb-4">게시글 상세</h1>

  <!-- 게시물 정보 -->
  <div class="card">
    <div class="card-header">
      <h3 th:text="${post.title}"></h3>
    </div>
    <div class="card-body">
      <p><strong>작성자:</strong> <span th:text="${post.student.name}"></span></p>
      <p><strong>작성 일자:</strong> <span th:text="${T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd').format(post.creationDay)}"></span></p>
      <p><strong>대여 상태:</strong> <span th:text="${post.rentalState}"></span></p>
      <hr />
      <p><strong>내용:</strong></p>
      <p th:text="${post.postContents}"></p>
    </div>
  </div>

  <!-- 댓글 섹션 -->
  <div class="card">
    <div class="card-header">댓글</div>
    <div class="card-body">
      <ul class="list-group">
        <li class="list-group-item" th:each="chat : ${chats}">
          <p><strong th:text="${chat.student.name}"></strong>님</p>
          <p th:text="${chat.chatContents}"></p>
          <small class="text-muted" th:text="${chat.permissionState}"></small>
        </li>
      </ul>
    </div>
  </div>

  <!-- 목록으로 돌아가기 버튼 -->
  <div class="mt-3">
    <a href="/posts" class="btn btn-secondary">목록</a>
  </div>
</div>
</body>
</html>
